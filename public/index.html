<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Library Buddy</title>
  <meta name="theme-color" content="#153328">
  <link rel="manifest" href="./manifest.webmanifest">
  <link rel="stylesheet" href="../src/styles/variables.css">
  <link rel="stylesheet" href="../src/styles/base.css">
  <link rel="stylesheet" href="../src/styles/theme.css">
  <link rel="stylesheet" href="../src/styles/components.css">
</head>
<body>
  <div id="app" class="app">
    <header class="hud">
      <h1>Library Buddy</h1>
      <div class="controls">
        <button data-action="start-scan">Scan Books</button>
        <button data-action="stop">Stop</button>
        <button data-action="toggle-motion" id="toggle-motion-btn">Enable Motion Cursor</button>
        <div class="filter-group">
          <label for="manual-isbn">ISBN:</label>
          <input type="text" id="manual-isbn" placeholder="Enter ISBN" />
          <button id="add-isbn-btn">Add Book</button>
        </div>
        <button data-action="export">Export JSON</button>
        <button data-action="import">Import JSON</button>
        <input type="file" id="import-file" accept="application/json" style="display:none" />
        <div class="filter-group">
          <label for="sort-filter">Sort by:</label>
          <select id="sort-filter">
            <option value="series">Series</option>
            <option value="author">Author (A-Z)</option>
            <option value="genre">Genre</option>
            <option value="color">Color</option>
          </select>
        </div>
        <div class="filter-group">
          <label for="theme-filter">Theme:</label>
          <select id="theme-filter">
            <option value="witchy">Witchy</option>
            <option value="colorful">Colorful</option>
            <option value="minimal">Minimal</option>
          </select>
        </div>
      </div>
    </header>

    <main class="library">
      <section class="shelves" data-test-id="shelves" aria-label="Bookshelves"></section>

      <section class="webcam-overlay hidden" data-test-id="webcam-overlay" aria-hidden="true">
        <video id="webcam-video" autoplay playsinline muted></video>
        <canvas id="overlay-canvas"></canvas>
        <button class="close-scanner-btn" id="close-scanner-btn" aria-label="Close Scanner">‚úï</button>
      </section>
    </main>

    <footer class="pagination-footer">
      <button id="prev-page" class="page-btn" disabled>‚Üê Previous</button>
      <span id="page-info" class="page-info">Page 1 of 1</span>
      <button id="next-page" class="page-btn" disabled>Next ‚Üí</button>
    </footer>

    <div id="magic-cursor" data-test-id="cursor" aria-hidden="true"></div>

    <dialog id="book-modal" data-test-id="book-modal">
      <article>
        <img class="book-cover" alt="Book cover" />
        <header>
          <h2 class="book-title">Title</h2>
          <p class="book-author">Author</p>
        </header>
        <footer>
          <button id="close-modal">Close</button>
          <button id="delete-book" class="delete-btn">Remove from Shelf</button>
        </footer>
      </article>
    </dialog>

    <dialog id="confirm-delete-modal" class="confirm-modal">
      <article class="confirm-content">
        <div class="confirm-icon">üìö</div>
        <h3>Remove from Library?</h3>
        <p class="confirm-message">Are you sure you want to remove this book from your library?</p>
        <p class="confirm-book-title"></p>
        <footer class="confirm-footer">
          <button id="cancel-delete" class="cancel-btn">Cancel</button>
          <button id="confirm-delete" class="confirm-delete-btn">Remove Book</button>
        </footer>
      </article>
    </dialog>
  </div>

  <script type="module" src="../src/js/app.js"></script>
</body>
</html>
